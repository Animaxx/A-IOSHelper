<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>A-IOSHelper [Animax Helper] by Animaxx</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->
    <script src="javascripts/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <script src="javascripts/sidemenu.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <link rel="stylesheet" href="styles/hybrid.css">
    <script src="javascripts/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header">
    <nav>
        <li class="fork"><a href="https://github.com/Animaxx/A-IOSHelper">View On GitHub</a></li>
        <li class="fork"><a href="http://animaxapps.appspot.com/">View My Site</a></li>
        <li class="downloads"><a href="https://github.com/Animaxx/A-IOSHelper/zipball/master">ZIP</a></li>
        <li class="downloads"><a href="https://github.com/Animaxx/A-IOSHelper/tarball/master">TAR</a></li>
        <li class="title">DOWNLOADS</li>
    </nav>
</div>
<!-- end header -->

<div class="wrapper">

    <section>
        <div id="title">
            <h1>A-IOSHelper [Animax Helper]</h1>
            <p>This is a scaffold library and the aid of the project is providing all foundation functions for IOS
                developer to build app easier. <br/> <a href="http://waffle.io/animaxx/a-ioshelper"><img
                        src="https://badge.waffle.io/animaxx/a-ioshelper.svg?label=ready&amp;title=Ready"
                        alt="Stories in Ready"></a> <a href="https://travis-ci.org/Animaxx/A-IOSHelper"><img
                        src="https://travis-ci.org/Animaxx/A-IOSHelper.svg?branch=master" alt="Build Status"></a></p>
            <hr>
            <span class="credits left">Project maintained by <a href="https://github.com/Animaxx">Animaxx</a></span>
            <span class="credits right">Thanks <a
                    href="https://twitter.com/michigangraham">mattgraham</a> for original Theme </span>
        </div>
        <div id="backToHome"> <a href="index.html">[back to Home]</a> </div>
        <h1>
            Tasks
        </h1>
        <p>
            Tasks helper provides simple implement of tasks chain with async and sync.
        </p>
        <br/><br/>
        <div>
            <h2> Contents </h2>
            <ul>
                <li> <a href="#AsyncRequestNetwork">Request network asynchronously example</a> </li>
                <li> <a href="#DelayWithObj">Delay execute example</a> </li>

                <li> <a href="#TaskChain1">Tasks chain mutil-steps example</a> </li>
                <li> <a href="#TaskChain2">Tasks chain example</a> </li>
            </ul>
        </div>

        <div id='AsyncRequestNetwork' class="anchor"></div>
        <h2> Rapid request network asynchronously example</h2>

        <pre><code class="html">    [A_TaskHelper A_RunInBackground:^id{
        NSDictionary* _dic = [A_RESTRequest A_GetDictionary:@"www.yourwebservice.com/something"
            Parameters:@{@"key1":@"value", @"key2": @"value2"}
            Headers:@{@"Accept":@"application/json",
                @"Content-Type":@"application/json; charset=utf-8"}];
        return _dic;
    } WhenDone:^(id arg) {
        NSDictionary* _dic = (NSDictionary*)arg;
        // Displaying in UI Thread
    }];</code></pre>

        <br />
        <br />

        <div id='AsyncRequestWithObj' class="anchor"></div>
        <h2> Rapid asynchronously operation example</h2>

        <pre><code class="html">    [A_AsyncHelper A_RunInBackgroundWithObj:@"Arguments"
        Block:^id(id arg) {
            return [arg stringByAppendingString:@" with result"];
        } WhenDone:^(id arg, id result) {
            NSLog(@"%@", result); // Arguments with result
        }];</code></pre>

        <br />
        <br />

        <div id='DelayWithObj' class="anchor"></div>
        <h2> Delay execute example</h2>

        <pre><code class="html">// Delay 1.3 seconds and pop-up an alert box
[A_AsyncHelper A_DelayExecuteWithObj:@"Message here!" Method:^(id arg) {
    [A_AlertBox A_SystemAlert:(NSString*)arg AndTitle:@"Alert"];
} Delay:1.3f];</code></pre>

        <br />
        <br />

        <div id='TaskChain1' class="anchor"></div>
        <h2> Tasks chain mutil-steps example</h2>

        <pre><code class="html">A_TaskHelper* task = [A_TaskHelper A_Init:A_Task_RunInBackgroup Sequential:YES];
    [task A_AddDelayTask:2.0f Block:^(A_TaskHelper *task) {
            NSLog(@"Task %d",1);
    }];
    [task A_AddDelayTask:1.0f Block:^(A_TaskHelper *task) {
            NSLog(@"Task %d",2);
    }];
    [task A_AddTask:^(A_TaskHelper *task) {
            NSLog(@"Task %d",3);
    }];

    CFAbsoluteTime start = CFAbsoluteTimeGetCurrent();

    [task A_ExecuteWithCompletion:^(A_TaskHelper *task) {
        CFAbsoluteTime end = CFAbsoluteTimeGetCurrent();
        NSLog(@"operation took %2.5f seconds", end-start);
    }];
    /*
        The result shows tasks are running in order, because the queue is in Sequential Mode.

        Output:
            xctest[4323:138683] Task 1
            xctest[4323:138683] Task 2
            xctest[4323:138683] Task 3
            xctest[4323:138683] operation took 3.19355 seconds
    */

    /*
        If set the Sequential to NO, then the result will be difference.

        Output:
            xctest[4499:153364] Task 3
            xctest[4499:153363] Task 2
            xctest[4499:153370] Task 1
            xctest[4499:153363] operation took 2.09852 seconds
    */
        </code></pre>


        <div id='TaskChain2' class="anchor"></div>
        <h2> Tasks chain example</h2>
        <pre><code class="html">    // By default, task is set as A_Task_RunInBackgroupCompleteInMain and Sequential
    [[[[A_TaskHelper A_Init] A_AddTask:^(A_TaskHelper *task) {
        task.Tag = @(1);
    }] A_AddTask:^(A_TaskHelper *task) {
        task.Tag = @([((NSNumber*)task.Tag) integerValue] + 1);
    }] A_ExecuteWithCompletion:^(A_TaskHelper *task) {
        NSLog(@"Tag: %@", task.Tag);
    }];
        </code></pre>
    </section>

</div>

<div id="sidebarArea"></div>


<!--[if !IE]>
<script>fixScale(document);</script><![endif]-->

</body>
</html>