<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>A-IOSHelper [Animax Helper] by Animaxx</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->
    <script src="javascripts/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <script src="javascripts/sidemenu.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <link rel="stylesheet" href="styles/hybrid.css">
    <script src="javascripts/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header">
    <nav>
        <li class="fork"><a href="https://github.com/Animaxx/A-IOSHelper">View On GitHub</a></li>
        <li class="fork"><a href="http://animaxapps.appspot.com/">View My Site</a></li>
        <li class="downloads"><a href="https://github.com/Animaxx/A-IOSHelper/zipball/master">ZIP</a></li>
        <li class="downloads"><a href="https://github.com/Animaxx/A-IOSHelper/tarball/master">TAR</a></li>
        <li class="title">DOWNLOADS</li>
    </nav>
</div>
<!-- end header -->

<div class="wrapper">

    <section>
        <div id="title">
            <h1>A-IOSHelper [Animax Helper]</h1>
            <p>This is a scaffold library and the aid of the project is providing all foundation functions for IOS
                developer to build app easier. <br/> <a href="http://waffle.io/animaxx/a-ioshelper"><img
                        src="https://badge.waffle.io/animaxx/a-ioshelper.svg?label=ready&amp;title=Ready"
                        alt="Stories in Ready"></a> <a href="https://travis-ci.org/Animaxx/A-IOSHelper"><img
                        src="https://travis-ci.org/Animaxx/A-IOSHelper.svg?branch=master" alt="Build Status"></a></p>
            <hr>
            <span class="credits left">Project maintained by <a href="https://github.com/Animaxx">Animaxx</a></span>
            <span class="credits right">Thanks <a
                    href="https://twitter.com/michigangraham">mattgraham</a> for original Theme </span>
        </div>

        <h1>
            SQlite data operations
        </h1>
        <br/><br/>
        <div>
            <h2> Contents </h2>
            <ul>
                <li> <a href="#openConnection">Open connection</a> </li>
                <li> <a href="#executeQuery">Execute a query</a> </li>
                <li> <a href="#searchDataset">Search data set</a> </li>
                <li> <a href="#searchUniqueData">search for single data</a> </li>
                <li> <a href="#dataModelExample">Data model example</a> </li>
                <li> <a href="#dataModelCRUD">Data model CRUD operation</a> </li>
                <li> <a href="#searchSimilarModel">Search similar models</a> </li>
                <li> <a href="#searchModel">Search models with query</a> </li>
            </ul>
        </div>

        <div id='openConnection' class="anchor"></div>
        <h2> Open connection </h2>
        <pre><code class="html">    // Open default Sqlite file
    [A_SqliteManager A_Instance];
    // Open the Sqlite file which the name is "sqlite.db"
    [A_SqliteManager A_Instance:@"sqlite.db"];</code></pre>

        <div id='executeQuery' class="anchor"></div>
        <h2> Execute a query </h2>
        <pre><code class="html">    [[A_SqliteManager A_Instance]
            A_ExecuteQuery:@"UPDATE `Table` SET `Key`='value' WHERE ID=1"];</code></pre>

        <div id='searchDataset' class="anchor"></div>
        <h2> Search data set </h2>
        <pre><code class="html">    NSArray* Dataset = [[A_SqliteManager A_Instance]
            A_SearchDataset:@"SELECT * FROM `Table`"];

    // Using query with params
    NSArray* Dataset = [[A_SqliteManager A_Instance]
            A_SearchDataset:@"SELECT * FROM `Table` WHERE ID=?"
            withParams:@[@1]];
        </code></pre>

        <div id='searchUniqueData' class="anchor"></div>
        <h2> Search for single data </h2>
        <pre><code class="html">    id createDate = [[A_SqliteManager A_Instance]
            A_GetValueFromQuery:@"SELECT CreateDate FROM `Table` WHERE ID=1"];</code></pre>

        <div id='dataModelExample' class="anchor"></div>
        <h2> Data model example </h2>
        <pre><code class="html">    // ModelTest.h file
    #import &lt;A_IOSHelper/A_IOSHelper.h&gt;
    @interface ModelTest : A_DataModel

    @property (retain, nonatomic) NSString* Name;
    @property (retain, nonatomic) NSDate* Day;
    @property (nonatomic) BOOL Passed;
    @property (nonatomic) NSInteger ID;

    @end</code></pre>

        <div id='dataModelCRUD' class="anchor"></div>
        <h2> Data model CRUD operation </h2>

        <pre><code class="html">
    ModelTest* _model = [[ModelTest alloc] init];
    [_model setDay:[NSDate date]];
    [_model setName:@"Name"];
    [_model setPassed:YES];

    // Create Table
    Boolean _exist = [[A_SqliteManager A_Instance]
                                A_TableExist:[[A_SqliteManager A_Instance]
                                        A_GenerateTableName:_model]];
    if (!_exist) {
        [[A_SqliteManager A_Instance] A_ExecuteTableCreate:_model AndKey:@"id"];
    }

    // Insert new record
    [[A_SqliteManager A_Instance] A_ExecuteInsert:_model WithIgnore:@[@"id"]];
    // Set giving ID
    [_model setID: [[[A_SqliteManager A_Instance] A_lastInsertId] integerValue]];

    // Search Table
    NSArray* _values = [[A_SqliteManager A_Instance] A_SearchDataset:
    [NSString stringWithFormat:@"SELECT * FROM %@", [[A_SqliteManager A_Instance]
            A_GenerateTableName:_model]]];
    NSLog(@"%@", _values);
    /*
    The result in here is: [NSArray [NSDictionary]]
        {
            Day = "2015-03-16 18:51:10 +0000";
            ID = 1;
            Name = Name;
            Passed = 1;
        }
    */

    // Update data
    [_model setName:@"Name2"];
    [[A_SqliteManager A_Instance] A_ExecuteUpdate:_model AndKeys:@[@"id"]];

    // Search Table
    _values = [[A_SqliteManager A_Instance] A_SearchDataset:
    [NSString stringWithFormat:@"SELECT * FROM %@", [[A_SqliteManager A_Instance]
            A_GenerateTableName:_model]]];
    NSLog(@"%@", _values);
    /*
    The result in here is: [NSArray [NSDictionary]]
        {
            Day = "2015-03-16 18:51:10 +0000";
            ID = 1;
            Name = Name2;
            Passed = 1;
        }
    */

    // Delete Data
    [[A_SqliteManager A_Instance] A_ExecuteDelete:_model AndKeys:@[@"id"]];

    // Search Table
    _values = [[A_SqliteManager A_Instance] A_SearchDataset:
    [NSString stringWithFormat:@"SELECT * FROM %@", [[A_SqliteManager A_Instance]
            A_GenerateTableName:_model]]];
    NSLog(@"%@", _values); // The result is empty </code></pre>


        <div id='searchSimilarModel' class="anchor"></div>
        <h2> Search similar models </h2>
        <p>This function can found the models which the value of attributes are same as example model,
            and it will ignore the default value of attributes. <br>
            The result in this function is NSArray with the data model objects.
        </p>
        <pre><code class="html">    // Get all ModelTest objects.
    ModelTest* _searchExample = [[ModelTest alloc] init];
    NSArray* _result = [[A_SqliteManager A_Instance] A_SearchSimilarModel:_searchExample];</code></pre>

        <pre><code class="html">    // Get all ModelTest objects that Name is @"Animax"
    ModelTest* _searchExample = [[ModelTest alloc] init];
    [_searchExample setName:@"Animax"];
    NSArray* _result = [[A_SqliteManager A_Instance] A_SearchSimilarModel:_searchExample];</code></pre>

        <div id='searchModel' class="anchor"></div>
        <h2> Search models with query </h2>
        <p>The result in this function is NSArray with the data model objects. </p>

        <pre><code class="html">    // Get all ModelTest objects that Name like "%name%"
    NSArray* _result = [[A_SqliteManager A_Instance] A_SearchModel:[ModelTest class]
            Where:@"Name like '%name%'"];</code></pre>

    </section>
</div>

<div id="sidebarArea"></div>


<!--[if !IE]>
<script>fixScale(document);</script><![endif]-->

</body>
</html>